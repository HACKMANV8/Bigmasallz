# =============================================================================
# SynthAIx Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# LLM Configuration
# =============================================================================
# Google Gemini API Key (for Gemini models: gemini-1.5-pro, gemini-1.5-flash)
# Get your key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# =============================================================================
# Backend Configuration
# =============================================================================
# FastAPI host and port
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# API rate limiting
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Generation Settings
# =============================================================================
# Maximum number of parallel workers
MAX_WORKERS=20

# Default chunk size for data generation
DEFAULT_CHUNK_SIZE=500

# Minimum and maximum chunk sizes
MIN_CHUNK_SIZE=100
MAX_CHUNK_SIZE=2000

# Deduplication similarity threshold (0.0 to 1.0)
# Higher = more strict (fewer duplicates, but may reject valid entries)
DEDUPLICATION_THRESHOLD=0.85

# Maximum retries for failed chunks
MAX_CHUNK_RETRIES=3

# Timeout for LLM requests (seconds)
LLM_TIMEOUT=60

# =============================================================================
# Vector Store (ChromaDB)
# =============================================================================
# Path to ChromaDB persistence directory
CHROMADB_PATH=./data/chromadb

# Embedding model for deduplication
EMBEDDING_MODEL=text-embedding-3-small

# ChromaDB collection name prefix
CHROMADB_COLLECTION_PREFIX=synthaix_

# Vector dimension (depends on embedding model)
VECTOR_DIMENSION=1536

# =============================================================================
# Frontend Configuration
# =============================================================================
# Backend API URL (accessible from browser)
NEXT_PUBLIC_API_URL=http://localhost:8000

# Polling interval for job status (milliseconds)
NEXT_PUBLIC_POLLING_INTERVAL=2000

# Maximum file size for CSV export (bytes)
NEXT_PUBLIC_MAX_EXPORT_SIZE=104857600

# =============================================================================
# Database (Optional - for persistent job storage)
# =============================================================================
# Leave empty to use in-memory storage
# DATABASE_URL=postgresql://user:password@localhost:5432/synthaix
DATABASE_URL=

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# Redis (Optional - for distributed job queue)
# =============================================================================
# Leave empty to use in-memory queue
# REDIS_URL=redis://localhost:6379/0
REDIS_URL=

# =============================================================================
# Monitoring & Observability
# =============================================================================
# Enable structured logging (JSON format)
STRUCTURED_LOGGING=true

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Enable performance monitoring
ENABLE_METRICS=true

# Metrics export interval (seconds)
METRICS_INTERVAL=60

# =============================================================================
# Security
# =============================================================================
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-generate-with-openssl

# JWT token expiration (hours)
TOKEN_EXPIRE_HOURS=24

# Enable API key authentication (optional)
ENABLE_API_KEY_AUTH=false

# =============================================================================
# Development Settings
# =============================================================================
# Enable debug mode (DO NOT use in production)
DEBUG=false

# Enable API documentation
ENABLE_DOCS=true

# Enable CORS in development
DEV_CORS_ENABLED=true

# Reload on code changes (development only)
AUTO_RELOAD=true
